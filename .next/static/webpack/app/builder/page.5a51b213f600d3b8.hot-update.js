"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/builder/page",{

/***/ "(app-pages-browser)/./app/builder/page.tsx":
/*!******************************!*\
  !*** ./app/builder/page.tsx ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ BuilderPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ColorPicker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ColorPicker */ \"(app-pages-browser)/./components/ColorPicker.tsx\");\n/* harmony import */ var _components_CardGrid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/CardGrid */ \"(app-pages-browser)/./components/CardGrid.tsx\");\n/* harmony import */ var _components_DeckSidebar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/DeckSidebar */ \"(app-pages-browser)/./components/DeckSidebar.tsx\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Filter_Search_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Filter,Search,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Filter_Search_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Filter,Search,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Filter_Search_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Filter,Search,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/funnel.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Filter_Search_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Filter,Search,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\nfunction BuilderPage() {\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [collection, setCollection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedColors, setSelectedColors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [deck, setDeck] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        cards: [],\n        colors: [],\n        missingCards: []\n    });\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"commander\");\n    const [isAutoBuilding, setIsAutoBuilding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Load collection on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchCollection = async ()=>{\n            try {\n                const res = await fetch(\"/api/collection\");\n                if (!res.ok) throw new Error(\"Failed to fetch collection\");\n                const data = await res.json();\n                if (data.collection && data.collection.length > 0) {\n                    setCollection(data.collection);\n                } else {\n                    // If no collection found, redirect to upload\n                    router.push(\"/\");\n                }\n            } catch (e) {\n                console.error(\"Failed to load collection\", e);\n                router.push(\"/\");\n            }\n        };\n        fetchCollection();\n    }, [\n        router\n    ]);\n    // Update deck colors when commander changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (deck.commander) {\n            setDeck((prev)=>{\n                var _deck_commander;\n                return {\n                    ...prev,\n                    colors: ((_deck_commander = deck.commander) === null || _deck_commander === void 0 ? void 0 : _deck_commander.color_identity) || []\n                };\n            });\n            setSelectedColors(deck.commander.color_identity || []);\n        }\n    }, [\n        deck.commander\n    ]);\n    // Filter Logic\n    const filteredCards = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        let filtered = collection;\n        // 1. Filter by Search\n        if (searchQuery) {\n            const q = searchQuery.toLowerCase();\n            filtered = filtered.filter((c)=>{\n                var _c_details;\n                return c.name.toLowerCase().includes(q) || ((_c_details = c.details) === null || _c_details === void 0 ? void 0 : _c_details.type_line.toLowerCase().includes(q));\n            });\n        }\n        // 2. Filter by Mode (Commander vs Library)\n        if (activeTab === \"commander\") {\n            return filtered.filter((c)=>{\n                var _c_details, _c_details_oracle_text, _c_details1;\n                const type = ((_c_details = c.details) === null || _c_details === void 0 ? void 0 : _c_details.type_line) || \"\";\n                const isLegendaryCreature = type.includes(\"Legendary Creature\");\n                // Simple Planeswalker commander check (can be improved)\n                const isPlaneswalkerCommander = type.includes(\"Planeswalker\") && (((_c_details1 = c.details) === null || _c_details1 === void 0 ? void 0 : (_c_details_oracle_text = _c_details1.oracle_text) === null || _c_details_oracle_text === void 0 ? void 0 : _c_details_oracle_text.includes(\"can be your commander\")) || false);\n                if (!isLegendaryCreature && !isPlaneswalkerCommander) return false;\n                // Color Identity Check: Must be EXACTLY within selected colors if colors are selected\n                // Or just show all if no colors selected yet (to let user pick commander first)\n                if (selectedColors.length > 0) {\n                    var _c_details2;\n                    const identity = ((_c_details2 = c.details) === null || _c_details2 === void 0 ? void 0 : _c_details2.color_identity) || [];\n                    // Check if identity is a subset of selectedColors\n                    return identity.every((color)=>selectedColors.includes(color));\n                }\n                return true;\n            });\n        } else {\n            // Library Mode\n            if (!deck.commander) return []; // Need commander first\n            return filtered.filter((c)=>{\n                var _deck_commander, _c_details_type_line, _c_details, _c_details1, _deck_commander1;\n                // Exclude if it is the commander (by name)\n                if (c.name === ((_deck_commander = deck.commander) === null || _deck_commander === void 0 ? void 0 : _deck_commander.name)) return false;\n                // Exclude cards already in deck (Singleton Rule by Name)\n                // Exception: Basic Lands\n                const isBasicLand = (_c_details = c.details) === null || _c_details === void 0 ? void 0 : (_c_details_type_line = _c_details.type_line) === null || _c_details_type_line === void 0 ? void 0 : _c_details_type_line.includes(\"Basic Land\");\n                if (!isBasicLand) {\n                    const alreadyInDeck = deck.cards.some((dc)=>dc.name === c.name);\n                    if (alreadyInDeck) return false;\n                }\n                // Color Identity Check: Must be subset of Commander's identity\n                const identity = ((_c_details1 = c.details) === null || _c_details1 === void 0 ? void 0 : _c_details1.color_identity) || [];\n                const commanderIdentity = ((_deck_commander1 = deck.commander) === null || _deck_commander1 === void 0 ? void 0 : _deck_commander1.color_identity) || [];\n                // Card identity must be subset of Commander identity\n                // Exception: Colorless cards (identity []) are always allowed\n                return identity.every((color)=>commanderIdentity.includes(color));\n            });\n        }\n    }, [\n        collection,\n        searchQuery,\n        activeTab,\n        selectedColors,\n        deck.commander,\n        deck.cards\n    ]);\n    // Actions\n    const setCommander = (card)=>{\n        if (!card.details) return;\n        setDeck((prev)=>({\n                ...prev,\n                commander: card.details\n            }));\n        setActiveTab(\"library\");\n    };\n    const addToDeck = (card)=>{\n        setDeck((prev)=>({\n                ...prev,\n                cards: [\n                    ...prev.cards,\n                    card\n                ]\n            }));\n    };\n    const removeFromDeck = (card)=>{\n        setDeck((prev)=>{\n            const idx = prev.cards.findIndex((c)=>c.scryfallId === card.scryfallId);\n            if (idx === -1) return prev;\n            const newCards = [\n                ...prev.cards\n            ];\n            newCards.splice(idx, 1);\n            return {\n                ...prev,\n                cards: newCards\n            };\n        });\n    };\n    const removeCommander = ()=>{\n        setDeck((prev)=>({\n                ...prev,\n                commander: undefined\n            }));\n        setActiveTab(\"commander\");\n        setSelectedColors([]);\n    };\n    const handleAutoBuild = async ()=>{\n        if (!deck.commander) return;\n        setIsAutoBuilding(true);\n        try {\n            const response = await fetch(\"/api/auto-build\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    commanderName: deck.commander.name,\n                    collection: collection\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Failed to auto-build\");\n            }\n            const data = await response.json();\n            const { cardNames, suggestedDetails = [] } = data;\n            const addedCards = [];\n            const missing = [];\n            // Match suggested cards with collection\n            cardNames.forEach((cardName)=>{\n                const cardInCollection = collection.find((c)=>c.name.toLowerCase() === cardName.toLowerCase());\n                if (cardInCollection) {\n                    // Check if already in deck\n                    const alreadyInDeck = deck.cards.some((dc)=>dc.scryfallId === cardInCollection.scryfallId);\n                    if (!alreadyInDeck) {\n                        addedCards.push(cardInCollection);\n                    }\n                } else {\n                    // Find details in suggestedDetails\n                    const details = suggestedDetails.find((d)=>d.name === cardName);\n                    if (details) {\n                        missing.push(details);\n                    } else {\n                        // Fallback for cards without details (shouldn't happen often)\n                        // We create a minimal ScryfallCard object or skip\n                        console.warn(\"No details found for missing card: \".concat(cardName));\n                    }\n                }\n            });\n            // Update deck with new cards and missing list\n            setDeck((prev)=>({\n                    ...prev,\n                    cards: [\n                        ...prev.cards,\n                        ...addedCards\n                    ],\n                    missingCards: missing\n                }));\n        } catch (error) {\n            console.error(\"Auto-build failed:\", error);\n            alert(\"Failed to auto-build deck. Please try again.\");\n        } finally{\n            setIsAutoBuilding(false);\n        }\n    };\n    const handleBalanceDeck = ()=>{\n        if (!deck.commander) return;\n        const TARGET_LANDS = 35;\n        const TARGET_TOTAL = 99; // 99 + 1 commander = 100\n        // Separate lands from non-lands\n        const lands = deck.cards.filter((c)=>{\n            var _c_details_type_line, _c_details;\n            return (_c_details = c.details) === null || _c_details === void 0 ? void 0 : (_c_details_type_line = _c_details.type_line) === null || _c_details_type_line === void 0 ? void 0 : _c_details_type_line.includes(\"Land\");\n        });\n        const nonLands = deck.cards.filter((c)=>{\n            var _c_details_type_line, _c_details;\n            return !((_c_details = c.details) === null || _c_details === void 0 ? void 0 : (_c_details_type_line = _c_details.type_line) === null || _c_details_type_line === void 0 ? void 0 : _c_details_type_line.includes(\"Land\"));\n        });\n        // Keep only TARGET_LANDS lands (prioritize non-basic lands)\n        const basicLands = lands.filter((c)=>{\n            var _c_details_type_line, _c_details;\n            return (_c_details = c.details) === null || _c_details === void 0 ? void 0 : (_c_details_type_line = _c_details.type_line) === null || _c_details_type_line === void 0 ? void 0 : _c_details_type_line.includes(\"Basic Land\");\n        });\n        const nonBasicLands = lands.filter((c)=>{\n            var _c_details_type_line, _c_details;\n            return !((_c_details = c.details) === null || _c_details === void 0 ? void 0 : (_c_details_type_line = _c_details.type_line) === null || _c_details_type_line === void 0 ? void 0 : _c_details_type_line.includes(\"Basic Land\"));\n        });\n        let keptLands = [];\n        if (nonBasicLands.length >= TARGET_LANDS) {\n            keptLands = nonBasicLands.slice(0, TARGET_LANDS);\n        } else {\n            keptLands = [\n                ...nonBasicLands,\n                ...basicLands.slice(0, TARGET_LANDS - nonBasicLands.length)\n            ];\n        }\n        // Calculate how many more cards we need\n        const currentTotal = keptLands.length + nonLands.length;\n        const cardsNeeded = TARGET_TOTAL - currentTotal;\n        if (cardsNeeded <= 0) {\n            // We have enough or too many cards, just update with balanced lands\n            setDeck((prev)=>({\n                    ...prev,\n                    cards: [\n                        ...keptLands,\n                        ...nonLands.slice(0, TARGET_TOTAL - keptLands.length)\n                    ],\n                    missingCards: [] // Clear missing cards since deck is now complete\n                }));\n            return;\n        }\n        // Get available cards from collection that match commander's color identity\n        const commanderIdentity = deck.commander.color_identity || [];\n        const availableCards = collection.filter((c)=>{\n            var _deck_commander, _c_details;\n            // Skip if already in deck\n            if (deck.cards.some((dc)=>dc.name === c.name)) return false;\n            // Skip if it's the commander\n            if (c.name === ((_deck_commander = deck.commander) === null || _deck_commander === void 0 ? void 0 : _deck_commander.name)) return false;\n            // Check color identity\n            const identity = ((_c_details = c.details) === null || _c_details === void 0 ? void 0 : _c_details.color_identity) || [];\n            return identity.every((color)=>commanderIdentity.includes(color));\n        });\n        // Prioritize non-land cards\n        const availableNonLands = availableCards.filter((c)=>{\n            var _c_details_type_line, _c_details;\n            return !((_c_details = c.details) === null || _c_details === void 0 ? void 0 : (_c_details_type_line = _c_details.type_line) === null || _c_details_type_line === void 0 ? void 0 : _c_details_type_line.includes(\"Land\"));\n        });\n        const availableLands = availableCards.filter((c)=>{\n            var _c_details_type_line, _c_details;\n            return (_c_details = c.details) === null || _c_details === void 0 ? void 0 : (_c_details_type_line = _c_details.type_line) === null || _c_details_type_line === void 0 ? void 0 : _c_details_type_line.includes(\"Land\");\n        });\n        // Sort by rarity: Mythic > Rare > Uncommon > Common\n        const rarityScore = (rarity)=>{\n            switch(rarity){\n                case \"mythic\":\n                    return 4;\n                case \"rare\":\n                    return 3;\n                case \"uncommon\":\n                    return 2;\n                default:\n                    return 1;\n            }\n        };\n        availableNonLands.sort((a, b)=>{\n            var _b_details, _a_details;\n            return rarityScore((_b_details = b.details) === null || _b_details === void 0 ? void 0 : _b_details.rarity) - rarityScore((_a_details = a.details) === null || _a_details === void 0 ? void 0 : _a_details.rarity);\n        });\n        // Add cards to fill the deck\n        const cardsToAdd = [];\n        // First, add non-lands\n        for(let i = 0; i < Math.min(cardsNeeded, availableNonLands.length); i++){\n            cardsToAdd.push(availableNonLands[i]);\n        }\n        // If we still need more, add lands\n        const stillNeeded = cardsNeeded - cardsToAdd.length;\n        if (stillNeeded > 0) {\n            for(let i = 0; i < Math.min(stillNeeded, availableLands.length); i++){\n                cardsToAdd.push(availableLands[i]);\n            }\n        }\n        // Update deck\n        setDeck((prev)=>({\n                ...prev,\n                cards: [\n                    ...keptLands,\n                    ...nonLands,\n                    ...cardsToAdd\n                ],\n                missingCards: [] // Clear missing cards since deck is now complete with available cards\n            }));\n        alert(\"Deck balanced! Lands: \".concat(keptLands.length, \", Non-lands: \").concat(nonLands.length + cardsToAdd.length, \", Total: \").concat(keptLands.length + nonLands.length + cardsToAdd.length + 1, \" (including commander)\"));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-slate-950 text-slate-200 flex\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 mr-80 flex flex-col h-screen overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        className: \"bg-slate-900/50 backdrop-blur border-b border-slate-800 p-4 flex items-center justify-between z-10\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>router.push(\"/\"),\n                                        className: \"p-2 hover:bg-slate-800 rounded-lg transition-colors\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Filter_Search_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                            className: \"w-5 h-5\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                            lineNumber: 297,\n                                            columnNumber: 29\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                        lineNumber: 296,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-violet-400 to-indigo-400\",\n                                        children: \"Deck Builder\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                        lineNumber: 299,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                lineNumber: 295,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Filter_Search_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-500\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                                lineNumber: 307,\n                                                columnNumber: 29\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                placeholder: \"Search cards...\",\n                                                value: searchQuery,\n                                                onChange: (e)=>setSearchQuery(e.target.value),\n                                                className: \"bg-slate-900 border border-slate-700 rounded-full pl-10 pr-4 py-1.5 text-sm focus:outline-none focus:border-violet-500 w-64 transition-colors\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                                lineNumber: 308,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                        lineNumber: 306,\n                                        columnNumber: 25\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"transition-opacity duration-200 \".concat(activeTab === \"library\" ? \"opacity-50 pointer-events-none grayscale\" : \"\"),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ColorPicker__WEBPACK_IMPORTED_MODULE_3__.ColorPicker, {\n                                            selectedColors: selectedColors,\n                                            onChange: setSelectedColors\n                                        }, void 0, false, {\n                                            fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                            lineNumber: 319,\n                                            columnNumber: 29\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                        lineNumber: 318,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                lineNumber: 304,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                        lineNumber: 294,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex border-b border-slate-800 bg-slate-900/30\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setActiveTab(\"commander\"),\n                                className: \"px-6 py-3 text-sm font-medium border-b-2 transition-colors \".concat(activeTab === \"commander\" ? \"border-violet-500 text-violet-400\" : \"border-transparent text-slate-500 hover:text-slate-300\"),\n                                children: \"1. Choose Commander\"\n                            }, void 0, false, {\n                                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                lineNumber: 326,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setActiveTab(\"library\"),\n                                disabled: !deck.commander,\n                                className: \"px-6 py-3 text-sm font-medium border-b-2 transition-colors \".concat(activeTab === \"library\" ? \"border-violet-500 text-violet-400\" : \"border-transparent text-slate-500 hover:text-slate-300 disabled:opacity-30 disabled:cursor-not-allowed\"),\n                                children: \"2. Build Library\"\n                            }, void 0, false, {\n                                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                lineNumber: 332,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                        lineNumber: 325,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-7xl mx-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-6 flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-2xl font-bold text-white\",\n                                            children: activeTab === \"commander\" ? \"Select Your Commander\" : \"Available Cards (\".concat(filteredCards.length, \")\")\n                                        }, void 0, false, {\n                                            fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                            lineNumber: 345,\n                                            columnNumber: 29\n                                        }, this),\n                                        activeTab === \"library\" && deck.commander && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-4\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-slate-400 flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Filter_Search_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                                        lineNumber: 351,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    \"Filtered by identity:\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex gap-1\",\n                                                        children: deck.commander.color_identity.length === 0 ? \"Colorless\" : deck.commander.color_identity.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"font-bold\",\n                                                                children: c\n                                                            }, c, false, {\n                                                                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                                                lineNumber: 355,\n                                                                columnNumber: 49\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                                        lineNumber: 353,\n                                                        columnNumber: 41\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                                lineNumber: 350,\n                                                columnNumber: 37\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                            lineNumber: 349,\n                                            columnNumber: 33\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                    lineNumber: 344,\n                                    columnNumber: 25\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CardGrid__WEBPACK_IMPORTED_MODULE_4__.CardGrid, {\n                                    cards: filteredCards,\n                                    onAdd: activeTab === \"commander\" ? setCommander : addToDeck,\n                                    actionLabel: \"add\"\n                                }, void 0, false, {\n                                    fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                    lineNumber: 363,\n                                    columnNumber: 25\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                            lineNumber: 343,\n                            columnNumber: 21\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                        lineNumber: 342,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                lineNumber: 292,\n                columnNumber: 13\n            }, this),\n            activeTab === \"library\" && deck.commander && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bottom-8 right-96 flex gap-4 z-50\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleAutoBuild,\n                        disabled: isAutoBuilding,\n                        className: \"flex items-center gap-2 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 text-white px-6 py-3 rounded-full font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-2xl hover:shadow-violet-500/20 hover:-translate-y-1 border border-violet-400/20 backdrop-blur-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Filter_Search_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                                lineNumber: 380,\n                                columnNumber: 25\n                            }, this),\n                            isAutoBuilding ? \"Building...\" : \"Auto-Build\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                        lineNumber: 375,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleBalanceDeck,\n                        className: \"flex items-center gap-2 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white px-6 py-3 rounded-full font-bold transition-all shadow-2xl hover:shadow-emerald-500/20 hover:-translate-y-1 border border-emerald-400/20 backdrop-blur-sm\",\n                        children: \"Balance Deck\"\n                    }, void 0, false, {\n                        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                        lineNumber: 383,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                lineNumber: 374,\n                columnNumber: 17\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_DeckSidebar__WEBPACK_IMPORTED_MODULE_5__.DeckSidebar, {\n                deck: deck,\n                onRemoveCard: removeFromDeck,\n                onRemoveCommander: removeCommander,\n                onRemoveMissingCard: (cardName)=>{\n                    setDeck((prev)=>{\n                        var _prev_missingCards;\n                        return {\n                            ...prev,\n                            missingCards: (_prev_missingCards = prev.missingCards) === null || _prev_missingCards === void 0 ? void 0 : _prev_missingCards.filter((c)=>c.name !== cardName)\n                        };\n                    });\n                },\n                onClearDeck: ()=>{\n                    setDeck({\n                        cards: [],\n                        colors: [],\n                        missingCards: []\n                    });\n                    setActiveTab(\"commander\");\n                    setSelectedColors([]);\n                }\n            }, void 0, false, {\n                fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n                lineNumber: 393,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/felix/Desktop/CommanderDeckBuilder/app/builder/page.tsx\",\n        lineNumber: 290,\n        columnNumber: 9\n    }, this);\n}\n_s(BuilderPage, \"78gqNBX0phxdlU8bsrhPb3hxe/o=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = BuilderPage;\nvar _c;\n$RefreshReg$(_c, \"BuilderPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9idWlsZGVyL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXFEO0FBQ1Q7QUFFVztBQUNOO0FBQ007QUFDWTtBQUVwRCxTQUFTVzs7SUFDcEIsTUFBTUMsU0FBU1QsMERBQVNBO0lBQ3hCLE1BQU0sQ0FBQ1UsWUFBWUMsY0FBYyxHQUFHZCwrQ0FBUUEsQ0FBbUIsRUFBRTtJQUNqRSxNQUFNLENBQUNlLGdCQUFnQkMsa0JBQWtCLEdBQUdoQiwrQ0FBUUEsQ0FBVyxFQUFFO0lBQ2pFLE1BQU0sQ0FBQ2lCLE1BQU1DLFFBQVEsR0FBR2xCLCtDQUFRQSxDQUFPO1FBQUVtQixPQUFPLEVBQUU7UUFBRUMsUUFBUSxFQUFFO1FBQUVDLGNBQWMsRUFBRTtJQUFDO0lBQ2pGLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHdkIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDd0IsV0FBV0MsYUFBYSxHQUFHekIsK0NBQVFBLENBQTBCO0lBQ3BFLE1BQU0sQ0FBQzBCLGdCQUFnQkMsa0JBQWtCLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUVyRCwyQkFBMkI7SUFDM0JDLGdEQUFTQSxDQUFDO1FBQ04sTUFBTTJCLGtCQUFrQjtZQUNwQixJQUFJO2dCQUNBLE1BQU1DLE1BQU0sTUFBTUMsTUFBTTtnQkFDeEIsSUFBSSxDQUFDRCxJQUFJRSxFQUFFLEVBQUUsTUFBTSxJQUFJQyxNQUFNO2dCQUM3QixNQUFNQyxPQUFPLE1BQU1KLElBQUlLLElBQUk7Z0JBQzNCLElBQUlELEtBQUtwQixVQUFVLElBQUlvQixLQUFLcEIsVUFBVSxDQUFDc0IsTUFBTSxHQUFHLEdBQUc7b0JBQy9DckIsY0FBY21CLEtBQUtwQixVQUFVO2dCQUNqQyxPQUFPO29CQUNILDZDQUE2QztvQkFDN0NELE9BQU93QixJQUFJLENBQUM7Z0JBQ2hCO1lBQ0osRUFBRSxPQUFPQyxHQUFHO2dCQUNSQyxRQUFRQyxLQUFLLENBQUMsNkJBQTZCRjtn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LFlBQVksR0FBRW9CLHFCQUFBQSxLQUFLcEIsWUFBWSxjQUFqQm9CLHlDQUFBQSxtQkFBbUJNLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsSUFBSSxLQUFLd0M7d0JBQzVEOztnQkFDSjtnQkFDQW1ELGFBQWE7b0JBQ1QxSCxRQUFRO3dCQUFFQyxPQUFPLEVBQUU7d0JBQUVDLFFBQVEsRUFBRTt3QkFBRUMsY0FBYyxFQUFFO29CQUFDO29CQUNsREksYUFBYTtvQkFDYlQsa0JBQWtCLEVBQUU7Z0JBQ3hCOzs7Ozs7Ozs7Ozs7QUFJaEI7R0FoWndCTDs7UUFDTFIsc0RBQVNBOzs7S0FESlEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL2J1aWxkZXIvcGFnZS50c3g/ZmRmNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgQ29sbGVjdGlvbkNhcmQsIERlY2ssIFNjcnlmYWxsQ2FyZCB9IGZyb20gJ0AvbGliL3R5cGVzJztcbmltcG9ydCB7IENvbG9yUGlja2VyIH0gZnJvbSAnQC9jb21wb25lbnRzL0NvbG9yUGlja2VyJztcbmltcG9ydCB7IENhcmRHcmlkIH0gZnJvbSAnQC9jb21wb25lbnRzL0NhcmRHcmlkJztcbmltcG9ydCB7IERlY2tTaWRlYmFyIH0gZnJvbSAnQC9jb21wb25lbnRzL0RlY2tTaWRlYmFyJztcbmltcG9ydCB7IEFycm93TGVmdCwgRmlsdGVyLCBTZWFyY2gsIFNwYXJrbGVzIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQnVpbGRlclBhZ2UoKSB7XG4gICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gICAgY29uc3QgW2NvbGxlY3Rpb24sIHNldENvbGxlY3Rpb25dID0gdXNlU3RhdGU8Q29sbGVjdGlvbkNhcmRbXT4oW10pO1xuICAgIGNvbnN0IFtzZWxlY3RlZENvbG9ycywgc2V0U2VsZWN0ZWRDb2xvcnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgICBjb25zdCBbZGVjaywgc2V0RGVja10gPSB1c2VTdGF0ZTxEZWNrPih7IGNhcmRzOiBbXSwgY29sb3JzOiBbXSwgbWlzc2luZ0NhcmRzOiBbXSB9KTtcbiAgICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgICBjb25zdCBbYWN0aXZlVGFiLCBzZXRBY3RpdmVUYWJdID0gdXNlU3RhdGU8J2NvbW1hbmRlcicgfCAnbGlicmFyeSc+KCdjb21tYW5kZXInKTtcbiAgICBjb25zdCBbaXNBdXRvQnVpbGRpbmcsIHNldElzQXV0b0J1aWxkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIC8vIExvYWQgY29sbGVjdGlvbiBvbiBtb3VudFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZldGNoQ29sbGVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvY29sbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjb2xsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29sbGVjdGlvbiAmJiBkYXRhLmNvbGxlY3Rpb24ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRDb2xsZWN0aW9uKGRhdGEuY29sbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm8gY29sbGVjdGlvbiBmb3VuZCwgcmVkaXJlY3QgdG8gdXBsb2FkXG4gICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNvbGxlY3Rpb24nLCBlKTtcbiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgnLycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZldGNoQ29sbGVjdGlvbigpO1xuICAgIH0sIFtyb3V0ZXJdKTtcblxuICAgIC8vIFVwZGF0ZSBkZWNrIGNvbG9ycyB3aGVuIGNvbW1hbmRlciBjaGFuZ2VzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGRlY2suY29tbWFuZGVyKSB7XG4gICAgICAgICAgICBzZXREZWNrKHByZXYgPT4gKHsgLi4ucHJldiwgY29sb3JzOiBkZWNrLmNvbW1hbmRlcj8uY29sb3JfaWRlbnRpdHkgfHwgW10gfSkpO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRDb2xvcnMoZGVjay5jb21tYW5kZXIuY29sb3JfaWRlbnRpdHkgfHwgW10pO1xuICAgICAgICB9XG4gICAgfSwgW2RlY2suY29tbWFuZGVyXSk7XG5cbiAgICAvLyBGaWx0ZXIgTG9naWNcbiAgICBjb25zdCBmaWx0ZXJlZENhcmRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGxldCBmaWx0ZXJlZCA9IGNvbGxlY3Rpb247XG5cbiAgICAgICAgLy8gMS4gRmlsdGVyIGJ5IFNlYXJjaFxuICAgICAgICBpZiAoc2VhcmNoUXVlcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IHEgPSBzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoYyA9PiBjLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSB8fCBjLmRldGFpbHM/LnR5cGVfbGluZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDIuIEZpbHRlciBieSBNb2RlIChDb21tYW5kZXIgdnMgTGlicmFyeSlcbiAgICAgICAgaWYgKGFjdGl2ZVRhYiA9PT0gJ2NvbW1hbmRlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZC5maWx0ZXIoYyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IGMuZGV0YWlscz8udHlwZV9saW5lIHx8ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzTGVnZW5kYXJ5Q3JlYXR1cmUgPSB0eXBlLmluY2x1ZGVzKCdMZWdlbmRhcnkgQ3JlYXR1cmUnKTtcbiAgICAgICAgICAgICAgICAvLyBTaW1wbGUgUGxhbmVzd2Fsa2VyIGNvbW1hbmRlciBjaGVjayAoY2FuIGJlIGltcHJvdmVkKVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzUGxhbmVzd2Fsa2VyQ29tbWFuZGVyID0gdHlwZS5pbmNsdWRlcygnUGxhbmVzd2Fsa2VyJykgJiYgKGMuZGV0YWlscz8ub3JhY2xlX3RleHQ/LmluY2x1ZGVzKCdjYW4gYmUgeW91ciBjb21tYW5kZXInKSB8fCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzTGVnZW5kYXJ5Q3JlYXR1cmUgJiYgIWlzUGxhbmVzd2Fsa2VyQ29tbWFuZGVyKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBDb2xvciBJZGVudGl0eSBDaGVjazogTXVzdCBiZSBFWEFDVExZIHdpdGhpbiBzZWxlY3RlZCBjb2xvcnMgaWYgY29sb3JzIGFyZSBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIC8vIE9yIGp1c3Qgc2hvdyBhbGwgaWYgbm8gY29sb3JzIHNlbGVjdGVkIHlldCAodG8gbGV0IHVzZXIgcGljayBjb21tYW5kZXIgZmlyc3QpXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ29sb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRlbnRpdHkgPSBjLmRldGFpbHM/LmNvbG9yX2lkZW50aXR5IHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBpZGVudGl0eSBpcyBhIHN1YnNldCBvZiBzZWxlY3RlZENvbG9yc1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpdHkuZXZlcnkoY29sb3IgPT4gc2VsZWN0ZWRDb2xvcnMuaW5jbHVkZXMoY29sb3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIExpYnJhcnkgTW9kZVxuICAgICAgICAgICAgaWYgKCFkZWNrLmNvbW1hbmRlcikgcmV0dXJuIFtdOyAvLyBOZWVkIGNvbW1hbmRlciBmaXJzdFxuXG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyZWQuZmlsdGVyKGMgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEV4Y2x1ZGUgaWYgaXQgaXMgdGhlIGNvbW1hbmRlciAoYnkgbmFtZSlcbiAgICAgICAgICAgICAgICBpZiAoYy5uYW1lID09PSBkZWNrLmNvbW1hbmRlcj8ubmFtZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gRXhjbHVkZSBjYXJkcyBhbHJlYWR5IGluIGRlY2sgKFNpbmdsZXRvbiBSdWxlIGJ5IE5hbWUpXG4gICAgICAgICAgICAgICAgLy8gRXhjZXB0aW9uOiBCYXNpYyBMYW5kc1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQmFzaWNMYW5kID0gYy5kZXRhaWxzPy50eXBlX2xpbmU/LmluY2x1ZGVzKCdCYXNpYyBMYW5kJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzQmFzaWNMYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFscmVhZHlJbkRlY2sgPSBkZWNrLmNhcmRzLnNvbWUoZGMgPT4gZGMubmFtZSA9PT0gYy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscmVhZHlJbkRlY2spIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDb2xvciBJZGVudGl0eSBDaGVjazogTXVzdCBiZSBzdWJzZXQgb2YgQ29tbWFuZGVyJ3MgaWRlbnRpdHlcbiAgICAgICAgICAgICAgICBjb25zdCBpZGVudGl0eSA9IGMuZGV0YWlscz8uY29sb3JfaWRlbnRpdHkgfHwgW107XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZGVySWRlbnRpdHkgPSBkZWNrLmNvbW1hbmRlcj8uY29sb3JfaWRlbnRpdHkgfHwgW107XG5cbiAgICAgICAgICAgICAgICAvLyBDYXJkIGlkZW50aXR5IG11c3QgYmUgc3Vic2V0IG9mIENvbW1hbmRlciBpZGVudGl0eVxuICAgICAgICAgICAgICAgIC8vIEV4Y2VwdGlvbjogQ29sb3JsZXNzIGNhcmRzIChpZGVudGl0eSBbXSkgYXJlIGFsd2F5cyBhbGxvd2VkXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkZW50aXR5LmV2ZXJ5KGNvbG9yID0+IGNvbW1hbmRlcklkZW50aXR5LmluY2x1ZGVzKGNvbG9yKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtjb2xsZWN0aW9uLCBzZWFyY2hRdWVyeSwgYWN0aXZlVGFiLCBzZWxlY3RlZENvbG9ycywgZGVjay5jb21tYW5kZXIsIGRlY2suY2FyZHNdKTtcblxuICAgIC8vIEFjdGlvbnNcbiAgICBjb25zdCBzZXRDb21tYW5kZXIgPSAoY2FyZDogQ29sbGVjdGlvbkNhcmQpID0+IHtcbiAgICAgICAgaWYgKCFjYXJkLmRldGFpbHMpIHJldHVybjtcbiAgICAgICAgc2V0RGVjayhwcmV2ID0+ICh7IC4uLnByZXYsIGNvbW1hbmRlcjogY2FyZC5kZXRhaWxzIGFzIFNjcnlmYWxsQ2FyZCB9KSk7XG4gICAgICAgIHNldEFjdGl2ZVRhYignbGlicmFyeScpO1xuICAgIH07XG5cbiAgICBjb25zdCBhZGRUb0RlY2sgPSAoY2FyZDogQ29sbGVjdGlvbkNhcmQpID0+IHtcbiAgICAgICAgc2V0RGVjayhwcmV2ID0+ICh7IC4uLnByZXYsIGNhcmRzOiBbLi4ucHJldi5jYXJkcywgY2FyZF0gfSkpO1xuICAgIH07XG5cbiAgICBjb25zdCByZW1vdmVGcm9tRGVjayA9IChjYXJkOiBDb2xsZWN0aW9uQ2FyZCkgPT4ge1xuICAgICAgICBzZXREZWNrKHByZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gcHJldi5jYXJkcy5maW5kSW5kZXgoYyA9PiBjLnNjcnlmYWxsSWQgPT09IGNhcmQuc2NyeWZhbGxJZCk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICBjb25zdCBuZXdDYXJkcyA9IFsuLi5wcmV2LmNhcmRzXTtcbiAgICAgICAgICAgIG5ld0NhcmRzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgY2FyZHM6IG5ld0NhcmRzIH07XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW1vdmVDb21tYW5kZXIgPSAoKSA9PiB7XG4gICAgICAgIHNldERlY2socHJldiA9PiAoeyAuLi5wcmV2LCBjb21tYW5kZXI6IHVuZGVmaW5lZCB9KSk7XG4gICAgICAgIHNldEFjdGl2ZVRhYignY29tbWFuZGVyJyk7XG4gICAgICAgIHNldFNlbGVjdGVkQ29sb3JzKFtdKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQXV0b0J1aWxkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWRlY2suY29tbWFuZGVyKSByZXR1cm47XG5cbiAgICAgICAgc2V0SXNBdXRvQnVpbGRpbmcodHJ1ZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2F1dG8tYnVpbGQnLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kZXJOYW1lOiBkZWNrLmNvbW1hbmRlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGF1dG8tYnVpbGQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2FyZE5hbWVzLCBzdWdnZXN0ZWREZXRhaWxzID0gW10gfSA9IGRhdGE7XG5cbiAgICAgICAgICAgIGNvbnN0IGFkZGVkQ2FyZHM6IENvbGxlY3Rpb25DYXJkW10gPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IG1pc3Npbmc6IFNjcnlmYWxsQ2FyZFtdID0gW107XG5cbiAgICAgICAgICAgIC8vIE1hdGNoIHN1Z2dlc3RlZCBjYXJkcyB3aXRoIGNvbGxlY3Rpb25cbiAgICAgICAgICAgIGNhcmROYW1lcy5mb3JFYWNoKChjYXJkTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZEluQ29sbGVjdGlvbiA9IGNvbGxlY3Rpb24uZmluZChcbiAgICAgICAgICAgICAgICAgICAgYyA9PiBjLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gY2FyZE5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FyZEluQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGluIGRlY2tcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxyZWFkeUluRGVjayA9IGRlY2suY2FyZHMuc29tZShkYyA9PiBkYy5zY3J5ZmFsbElkID09PSBjYXJkSW5Db2xsZWN0aW9uLnNjcnlmYWxsSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlJbkRlY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkQ2FyZHMucHVzaChjYXJkSW5Db2xsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgZGV0YWlscyBpbiBzdWdnZXN0ZWREZXRhaWxzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBzdWdnZXN0ZWREZXRhaWxzLmZpbmQoKGQ6IFNjcnlmYWxsQ2FyZCkgPT4gZC5uYW1lID09PSBjYXJkTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaXNzaW5nLnB1c2goZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayBmb3IgY2FyZHMgd2l0aG91dCBkZXRhaWxzIChzaG91bGRuJ3QgaGFwcGVuIG9mdGVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgY3JlYXRlIGEgbWluaW1hbCBTY3J5ZmFsbENhcmQgb2JqZWN0IG9yIHNraXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTm8gZGV0YWlscyBmb3VuZCBmb3IgbWlzc2luZyBjYXJkOiAke2NhcmROYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBkZWNrIHdpdGggbmV3IGNhcmRzIGFuZCBtaXNzaW5nIGxpc3RcbiAgICAgICAgICAgIHNldERlY2socHJldiA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgY2FyZHM6IFsuLi5wcmV2LmNhcmRzLCAuLi5hZGRlZENhcmRzXSxcbiAgICAgICAgICAgICAgICBtaXNzaW5nQ2FyZHM6IG1pc3NpbmcsXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dG8tYnVpbGQgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gYXV0by1idWlsZCBkZWNrLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNBdXRvQnVpbGRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUJhbGFuY2VEZWNrID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWRlY2suY29tbWFuZGVyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgVEFSR0VUX0xBTkRTID0gMzU7XG4gICAgICAgIGNvbnN0IFRBUkdFVF9UT1RBTCA9IDk5OyAvLyA5OSArIDEgY29tbWFuZGVyID0gMTAwXG5cbiAgICAgICAgLy8gU2VwYXJhdGUgbGFuZHMgZnJvbSBub24tbGFuZHNcbiAgICAgICAgY29uc3QgbGFuZHMgPSBkZWNrLmNhcmRzLmZpbHRlcihjID0+IGMuZGV0YWlscz8udHlwZV9saW5lPy5pbmNsdWRlcygnTGFuZCcpKTtcbiAgICAgICAgY29uc3Qgbm9uTGFuZHMgPSBkZWNrLmNhcmRzLmZpbHRlcihjID0+ICFjLmRldGFpbHM/LnR5cGVfbGluZT8uaW5jbHVkZXMoJ0xhbmQnKSk7XG5cbiAgICAgICAgLy8gS2VlcCBvbmx5IFRBUkdFVF9MQU5EUyBsYW5kcyAocHJpb3JpdGl6ZSBub24tYmFzaWMgbGFuZHMpXG4gICAgICAgIGNvbnN0IGJhc2ljTGFuZHMgPSBsYW5kcy5maWx0ZXIoYyA9PiBjLmRldGFpbHM/LnR5cGVfbGluZT8uaW5jbHVkZXMoJ0Jhc2ljIExhbmQnKSk7XG4gICAgICAgIGNvbnN0IG5vbkJhc2ljTGFuZHMgPSBsYW5kcy5maWx0ZXIoYyA9PiAhYy5kZXRhaWxzPy50eXBlX2xpbmU/LmluY2x1ZGVzKCdCYXNpYyBMYW5kJykpO1xuXG4gICAgICAgIGxldCBrZXB0TGFuZHM6IENvbGxlY3Rpb25DYXJkW10gPSBbXTtcbiAgICAgICAgaWYgKG5vbkJhc2ljTGFuZHMubGVuZ3RoID49IFRBUkdFVF9MQU5EUykge1xuICAgICAgICAgICAga2VwdExhbmRzID0gbm9uQmFzaWNMYW5kcy5zbGljZSgwLCBUQVJHRVRfTEFORFMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2VwdExhbmRzID0gWy4uLm5vbkJhc2ljTGFuZHMsIC4uLmJhc2ljTGFuZHMuc2xpY2UoMCwgVEFSR0VUX0xBTkRTIC0gbm9uQmFzaWNMYW5kcy5sZW5ndGgpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBob3cgbWFueSBtb3JlIGNhcmRzIHdlIG5lZWRcbiAgICAgICAgY29uc3QgY3VycmVudFRvdGFsID0ga2VwdExhbmRzLmxlbmd0aCArIG5vbkxhbmRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2FyZHNOZWVkZWQgPSBUQVJHRVRfVE9UQUwgLSBjdXJyZW50VG90YWw7XG5cbiAgICAgICAgaWYgKGNhcmRzTmVlZGVkIDw9IDApIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgZW5vdWdoIG9yIHRvbyBtYW55IGNhcmRzLCBqdXN0IHVwZGF0ZSB3aXRoIGJhbGFuY2VkIGxhbmRzXG4gICAgICAgICAgICBzZXREZWNrKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgIGNhcmRzOiBbLi4ua2VwdExhbmRzLCAuLi5ub25MYW5kcy5zbGljZSgwLCBUQVJHRVRfVE9UQUwgLSBrZXB0TGFuZHMubGVuZ3RoKV0sXG4gICAgICAgICAgICAgICAgbWlzc2luZ0NhcmRzOiBbXSAvLyBDbGVhciBtaXNzaW5nIGNhcmRzIHNpbmNlIGRlY2sgaXMgbm93IGNvbXBsZXRlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgYXZhaWxhYmxlIGNhcmRzIGZyb20gY29sbGVjdGlvbiB0aGF0IG1hdGNoIGNvbW1hbmRlcidzIGNvbG9yIGlkZW50aXR5XG4gICAgICAgIGNvbnN0IGNvbW1hbmRlcklkZW50aXR5ID0gZGVjay5jb21tYW5kZXIuY29sb3JfaWRlbnRpdHkgfHwgW107XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUNhcmRzID0gY29sbGVjdGlvbi5maWx0ZXIoYyA9PiB7XG4gICAgICAgICAgICAvLyBTa2lwIGlmIGFscmVhZHkgaW4gZGVja1xuICAgICAgICAgICAgaWYgKGRlY2suY2FyZHMuc29tZShkYyA9PiBkYy5uYW1lID09PSBjLm5hbWUpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAvLyBTa2lwIGlmIGl0J3MgdGhlIGNvbW1hbmRlclxuICAgICAgICAgICAgaWYgKGMubmFtZSA9PT0gZGVjay5jb21tYW5kZXI/Lm5hbWUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIC8vIENoZWNrIGNvbG9yIGlkZW50aXR5XG4gICAgICAgICAgICBjb25zdCBpZGVudGl0eSA9IGMuZGV0YWlscz8uY29sb3JfaWRlbnRpdHkgfHwgW107XG4gICAgICAgICAgICByZXR1cm4gaWRlbnRpdHkuZXZlcnkoY29sb3IgPT4gY29tbWFuZGVySWRlbnRpdHkuaW5jbHVkZXMoY29sb3IpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUHJpb3JpdGl6ZSBub24tbGFuZCBjYXJkc1xuICAgICAgICBjb25zdCBhdmFpbGFibGVOb25MYW5kcyA9IGF2YWlsYWJsZUNhcmRzLmZpbHRlcihjID0+ICFjLmRldGFpbHM/LnR5cGVfbGluZT8uaW5jbHVkZXMoJ0xhbmQnKSk7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUxhbmRzID0gYXZhaWxhYmxlQ2FyZHMuZmlsdGVyKGMgPT4gYy5kZXRhaWxzPy50eXBlX2xpbmU/LmluY2x1ZGVzKCdMYW5kJykpO1xuXG4gICAgICAgIC8vIFNvcnQgYnkgcmFyaXR5OiBNeXRoaWMgPiBSYXJlID4gVW5jb21tb24gPiBDb21tb25cbiAgICAgICAgY29uc3QgcmFyaXR5U2NvcmUgPSAocmFyaXR5Pzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHJhcml0eSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ215dGhpYyc6IHJldHVybiA0O1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JhcmUnOiByZXR1cm4gMztcbiAgICAgICAgICAgICAgICBjYXNlICd1bmNvbW1vbic6IHJldHVybiAyO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGF2YWlsYWJsZU5vbkxhbmRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByYXJpdHlTY29yZShiLmRldGFpbHM/LnJhcml0eSkgLSByYXJpdHlTY29yZShhLmRldGFpbHM/LnJhcml0eSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBjYXJkcyB0byBmaWxsIHRoZSBkZWNrXG4gICAgICAgIGNvbnN0IGNhcmRzVG9BZGQ6IENvbGxlY3Rpb25DYXJkW10gPSBbXTtcblxuICAgICAgICAvLyBGaXJzdCwgYWRkIG5vbi1sYW5kc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKGNhcmRzTmVlZGVkLCBhdmFpbGFibGVOb25MYW5kcy5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgICAgIGNhcmRzVG9BZGQucHVzaChhdmFpbGFibGVOb25MYW5kc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBzdGlsbCBuZWVkIG1vcmUsIGFkZCBsYW5kc1xuICAgICAgICBjb25zdCBzdGlsbE5lZWRlZCA9IGNhcmRzTmVlZGVkIC0gY2FyZHNUb0FkZC5sZW5ndGg7XG4gICAgICAgIGlmIChzdGlsbE5lZWRlZCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oc3RpbGxOZWVkZWQsIGF2YWlsYWJsZUxhbmRzLmxlbmd0aCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGNhcmRzVG9BZGQucHVzaChhdmFpbGFibGVMYW5kc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgZGVja1xuICAgICAgICBzZXREZWNrKHByZXYgPT4gKHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICBjYXJkczogWy4uLmtlcHRMYW5kcywgLi4ubm9uTGFuZHMsIC4uLmNhcmRzVG9BZGRdLFxuICAgICAgICAgICAgbWlzc2luZ0NhcmRzOiBbXSAvLyBDbGVhciBtaXNzaW5nIGNhcmRzIHNpbmNlIGRlY2sgaXMgbm93IGNvbXBsZXRlIHdpdGggYXZhaWxhYmxlIGNhcmRzXG4gICAgICAgIH0pKTtcblxuICAgICAgICBhbGVydChgRGVjayBiYWxhbmNlZCEgTGFuZHM6ICR7a2VwdExhbmRzLmxlbmd0aH0sIE5vbi1sYW5kczogJHtub25MYW5kcy5sZW5ndGggKyBjYXJkc1RvQWRkLmxlbmd0aH0sIFRvdGFsOiAke2tlcHRMYW5kcy5sZW5ndGggKyBub25MYW5kcy5sZW5ndGggKyBjYXJkc1RvQWRkLmxlbmd0aCArIDF9IChpbmNsdWRpbmcgY29tbWFuZGVyKWApO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1zbGF0ZS05NTAgdGV4dC1zbGF0ZS0yMDAgZmxleFwiPlxuICAgICAgICAgICAgey8qIE1haW4gQ29udGVudCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1yLTgwIGZsZXggZmxleC1jb2wgaC1zY3JlZW4gb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImJnLXNsYXRlLTkwMC81MCBiYWNrZHJvcC1ibHVyIGJvcmRlci1iIGJvcmRlci1zbGF0ZS04MDAgcC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goJy8nKX0gY2xhc3NOYW1lPVwicC0yIGhvdmVyOmJnLXNsYXRlLTgwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIGJnLWNsaXAtdGV4dCB0ZXh0LXRyYW5zcGFyZW50IGJnLWdyYWRpZW50LXRvLXIgZnJvbS12aW9sZXQtNDAwIHRvLWluZGlnby00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNrIEJ1aWxkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTZWFyY2ggKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJ3LTQgaC00IGFic29sdXRlIGxlZnQtMyB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgdGV4dC1zbGF0ZS01MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGNhcmRzLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctc2xhdGUtOTAwIGJvcmRlciBib3JkZXItc2xhdGUtNzAwIHJvdW5kZWQtZnVsbCBwbC0xMCBwci00IHB5LTEuNSB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItdmlvbGV0LTUwMCB3LTY0IHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDb2xvciBQaWNrZXIgKE9ubHkgYWN0aXZlIGluIENvbW1hbmRlciBzZWxlY3Rpb24gbW9kZSkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0yMDAgJHthY3RpdmVUYWIgPT09ICdsaWJyYXJ5JyA/ICdvcGFjaXR5LTUwIHBvaW50ZXItZXZlbnRzLW5vbmUgZ3JheXNjYWxlJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2xvclBpY2tlciBzZWxlY3RlZENvbG9ycz17c2VsZWN0ZWRDb2xvcnN9IG9uQ2hhbmdlPXtzZXRTZWxlY3RlZENvbG9yc30gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICAgICAgICAgIHsvKiBUYWJzICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBib3JkZXItYiBib3JkZXItc2xhdGUtODAwIGJnLXNsYXRlLTkwMC8zMFwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUYWIoJ2NvbW1hbmRlcicpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNiBweS0zIHRleHQtc20gZm9udC1tZWRpdW0gYm9yZGVyLWItMiB0cmFuc2l0aW9uLWNvbG9ycyAke2FjdGl2ZVRhYiA9PT0gJ2NvbW1hbmRlcicgPyAnYm9yZGVyLXZpb2xldC01MDAgdGV4dC12aW9sZXQtNDAwJyA6ICdib3JkZXItdHJhbnNwYXJlbnQgdGV4dC1zbGF0ZS01MDAgaG92ZXI6dGV4dC1zbGF0ZS0zMDAnfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDEuIENob29zZSBDb21tYW5kZXJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYignbGlicmFyeScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFkZWNrLmNvbW1hbmRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTYgcHktMyB0ZXh0LXNtIGZvbnQtbWVkaXVtIGJvcmRlci1iLTIgdHJhbnNpdGlvbi1jb2xvcnMgJHthY3RpdmVUYWIgPT09ICdsaWJyYXJ5JyA/ICdib3JkZXItdmlvbGV0LTUwMCB0ZXh0LXZpb2xldC00MDAnIDogJ2JvcmRlci10cmFuc3BhcmVudCB0ZXh0LXNsYXRlLTUwMCBob3Zlcjp0ZXh0LXNsYXRlLTMwMCBkaXNhYmxlZDpvcGFjaXR5LTMwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCd9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgMi4gQnVpbGQgTGlicmFyeVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBDb250ZW50IEFyZWEgKi99XG4gICAgICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTYgc2Nyb2xsYmFyLXRoaW4gc2Nyb2xsYmFyLXRodW1iLXNsYXRlLTcwMCBzY3JvbGxiYXItdHJhY2stdHJhbnNwYXJlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YWN0aXZlVGFiID09PSAnY29tbWFuZGVyJyA/ICdTZWxlY3QgWW91ciBDb21tYW5kZXInIDogYEF2YWlsYWJsZSBDYXJkcyAoJHtmaWx0ZXJlZENhcmRzLmxlbmd0aH0pYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthY3RpdmVUYWIgPT09ICdsaWJyYXJ5JyAmJiBkZWNrLmNvbW1hbmRlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTQwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWx0ZXIgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsdGVyZWQgYnkgaWRlbnRpdHk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkZWNrLmNvbW1hbmRlci5jb2xvcl9pZGVudGl0eS5sZW5ndGggPT09IDAgPyAnQ29sb3JsZXNzJyA6IGRlY2suY29tbWFuZGVyLmNvbG9yX2lkZW50aXR5Lm1hcChjID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17Y30gY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+e2N9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkR3JpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRzPXtmaWx0ZXJlZENhcmRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWRkPXthY3RpdmVUYWIgPT09ICdjb21tYW5kZXInID8gc2V0Q29tbWFuZGVyIDogYWRkVG9EZWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkxhYmVsPVwiYWRkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogRmxvYXRpbmcgQWN0aW9uIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICB7YWN0aXZlVGFiID09PSAnbGlicmFyeScgJiYgZGVjay5jb21tYW5kZXIgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTggcmlnaHQtOTYgZmxleCBnYXAtNCB6LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUF1dG9CdWlsZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0F1dG9CdWlsZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGJnLWdyYWRpZW50LXRvLXIgZnJvbS12aW9sZXQtNjAwIHRvLWluZGlnby02MDAgaG92ZXI6ZnJvbS12aW9sZXQtNTAwIGhvdmVyOnRvLWluZGlnby01MDAgdGV4dC13aGl0ZSBweC02IHB5LTMgcm91bmRlZC1mdWxsIGZvbnQtYm9sZCB0cmFuc2l0aW9uLWFsbCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBzaGFkb3ctMnhsIGhvdmVyOnNoYWRvdy12aW9sZXQtNTAwLzIwIGhvdmVyOi10cmFuc2xhdGUteS0xIGJvcmRlciBib3JkZXItdmlvbGV0LTQwMC8yMCBiYWNrZHJvcC1ibHVyLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAge2lzQXV0b0J1aWxkaW5nID8gJ0J1aWxkaW5nLi4uJyA6ICdBdXRvLUJ1aWxkJ31cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJhbGFuY2VEZWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgYmctZ3JhZGllbnQtdG8tciBmcm9tLWVtZXJhbGQtNjAwIHRvLXRlYWwtNjAwIGhvdmVyOmZyb20tZW1lcmFsZC01MDAgaG92ZXI6dG8tdGVhbC01MDAgdGV4dC13aGl0ZSBweC02IHB5LTMgcm91bmRlZC1mdWxsIGZvbnQtYm9sZCB0cmFuc2l0aW9uLWFsbCBzaGFkb3ctMnhsIGhvdmVyOnNoYWRvdy1lbWVyYWxkLTUwMC8yMCBob3ZlcjotdHJhbnNsYXRlLXktMSBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNDAwLzIwIGJhY2tkcm9wLWJsdXItc21cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBCYWxhbmNlIERlY2tcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogU2lkZWJhciAqL31cbiAgICAgICAgICAgIDxEZWNrU2lkZWJhclxuICAgICAgICAgICAgICAgIGRlY2s9e2RlY2t9XG4gICAgICAgICAgICAgICAgb25SZW1vdmVDYXJkPXtyZW1vdmVGcm9tRGVja31cbiAgICAgICAgICAgICAgICBvblJlbW92ZUNvbW1hbmRlcj17cmVtb3ZlQ29tbWFuZGVyfVxuICAgICAgICAgICAgICAgIG9uUmVtb3ZlTWlzc2luZ0NhcmQ9eyhjYXJkTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXREZWNrKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaXNzaW5nQ2FyZHM6IHByZXYubWlzc2luZ0NhcmRzPy5maWx0ZXIoYyA9PiBjLm5hbWUgIT09IGNhcmROYW1lKVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbkNsZWFyRGVjaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXREZWNrKHsgY2FyZHM6IFtdLCBjb2xvcnM6IFtdLCBtaXNzaW5nQ2FyZHM6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVUYWIoJ2NvbW1hbmRlcicpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZENvbG9ycyhbXSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUm91dGVyIiwiQ29sb3JQaWNrZXIiLCJDYXJkR3JpZCIsIkRlY2tTaWRlYmFyIiwiQXJyb3dMZWZ0IiwiRmlsdGVyIiwiU2VhcmNoIiwiU3BhcmtsZXMiLCJCdWlsZGVyUGFnZSIsInJvdXRlciIsImNvbGxlY3Rpb24iLCJzZXRDb2xsZWN0aW9uIiwic2VsZWN0ZWRDb2xvcnMiLCJzZXRTZWxlY3RlZENvbG9ycyIsImRlY2siLCJzZXREZWNrIiwiY2FyZHMiLCJjb2xvcnMiLCJtaXNzaW5nQ2FyZHMiLCJzZWFyY2hRdWVyeSIsInNldFNlYXJjaFF1ZXJ5IiwiYWN0aXZlVGFiIiwic2V0QWN0aXZlVGFiIiwiaXNBdXRvQnVpbGRpbmciLCJzZXRJc0F1dG9CdWlsZGluZyIsImZldGNoQ29sbGVjdGlvbiIsInJlcyIsImZldGNoIiwib2siLCJFcnJvciIsImRhdGEiLCJqc29uIiwibGVuZ3RoIiwicHVzaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJjb21tYW5kZXIiLCJwcmV2IiwiY29sb3JfaWRlbnRpdHkiLCJmaWx0ZXJlZENhcmRzIiwiZmlsdGVyZWQiLCJxIiwidG9Mb3dlckNhc2UiLCJmaWx0ZXIiLCJjIiwibmFtZSIsImluY2x1ZGVzIiwiZGV0YWlscyIsInR5cGVfbGluZSIsInR5cGUiLCJpc0xlZ2VuZGFyeUNyZWF0dXJlIiwiaXNQbGFuZXN3YWxrZXJDb21tYW5kZXIiLCJvcmFjbGVfdGV4dCIsImlkZW50aXR5IiwiZXZlcnkiLCJjb2xvciIsImlzQmFzaWNMYW5kIiwiYWxyZWFkeUluRGVjayIsInNvbWUiLCJkYyIsImNvbW1hbmRlcklkZW50aXR5Iiwic2V0Q29tbWFuZGVyIiwiY2FyZCIsImFkZFRvRGVjayIsInJlbW92ZUZyb21EZWNrIiwiaWR4IiwiZmluZEluZGV4Iiwic2NyeWZhbGxJZCIsIm5ld0NhcmRzIiwic3BsaWNlIiwicmVtb3ZlQ29tbWFuZGVyIiwidW5kZWZpbmVkIiwiaGFuZGxlQXV0b0J1aWxkIiwicmVzcG9uc2UiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb21tYW5kZXJOYW1lIiwiY2FyZE5hbWVzIiwic3VnZ2VzdGVkRGV0YWlscyIsImFkZGVkQ2FyZHMiLCJtaXNzaW5nIiwiZm9yRWFjaCIsImNhcmROYW1lIiwiY2FyZEluQ29sbGVjdGlvbiIsImZpbmQiLCJkIiwid2FybiIsImFsZXJ0IiwiaGFuZGxlQmFsYW5jZURlY2siLCJUQVJHRVRfTEFORFMiLCJUQVJHRVRfVE9UQUwiLCJsYW5kcyIsIm5vbkxhbmRzIiwiYmFzaWNMYW5kcyIsIm5vbkJhc2ljTGFuZHMiLCJrZXB0TGFuZHMiLCJzbGljZSIsImN1cnJlbnRUb3RhbCIsImNhcmRzTmVlZGVkIiwiYXZhaWxhYmxlQ2FyZHMiLCJhdmFpbGFibGVOb25MYW5kcyIsImF2YWlsYWJsZUxhbmRzIiwicmFyaXR5U2NvcmUiLCJyYXJpdHkiLCJzb3J0IiwiYSIsImIiLCJjYXJkc1RvQWRkIiwiaSIsIk1hdGgiLCJtaW4iLCJzdGlsbE5lZWRlZCIsImRpdiIsImNsYXNzTmFtZSIsImhlYWRlciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJoMSIsImlucHV0IiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJtYWluIiwiaDIiLCJtYXAiLCJzcGFuIiwib25BZGQiLCJhY3Rpb25MYWJlbCIsIm9uUmVtb3ZlQ2FyZCIsIm9uUmVtb3ZlQ29tbWFuZGVyIiwib25SZW1vdmVNaXNzaW5nQ2FyZCIsIm9uQ2xlYXJEZWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/builder/page.tsx\n"));

/***/ })

});